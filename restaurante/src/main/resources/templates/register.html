<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Registro — Mi Leña</title>

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Rock+Salt&family=Amatic+SC:wght@700&family=Montserrat:wght@400;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Estilos de marca -->
    <link rel="stylesheet" th:href="@{/css/custom.css}" />
  </head>

  <body class="auth-page">
    <!-- Loader -->
    <div id="pageLoader" class="page-loader hidden" aria-hidden="true">
      <div class="page-loader-inner" role="status" aria-live="polite">
        <img th:src="@{/assets/Logo1.png}" alt="Mi Leña" class="loader-logo" />
        <div class="loader-text">Cargando…</div>
      </div>
    </div>

    <!-- NAVBAR (usa tu fragmento) -->
    <nav th:replace="~{fragments/navbar :: navbar}"></nav>

    <main class="auth-hero pt-5">
      <section class="py-5">
        <div class="container-xl">
          <!-- Encabezado -->
          <div class="text-center mb-4">
            <h1 class="brand-section text-acento mb-2">¡Crea tu cuenta!</h1>
            <p class="text-white-75">
              Únete a Mi Leña para disfrutar de promociones y reservas ágiles
            </p>
          </div>

          <!-- Mensajes flash -->
          <div class="col-lg-6 col-xl-5 mx-auto">
            <div
              th:if="${registerError}"
              class="alert alert-danger"
              th:text="${registerError}"
            ></div>
            <div
              th:if="${registerOk}"
              class="alert alert-success"
              th:text="${registerOk}"
            ></div>
          </div>

          <!-- Card centrada -->
          <div class="row justify-content-center">
            <div class="col-12 col-md-8 col-lg-6 col-xl-5">
              <div class="auth-card p-4 p-md-5">
                <div class="text-center mb-3">
                  <img
                    th:src="@{/assets/NombreLog.png}"
                    alt="Mi Leña"
                    class="auth-logo mb-2"
                  />
                </div>

                <!-- FORM -->
                <form
                  id="registerForm"
                  th:action="@{/register}"
                  method="post"
                  novalidate
                >
                  <!-- (opcional) CSRF si usas Spring Security -->
                  <input
                    type="hidden"
                    th:if="${_csrf}"
                    th:name="${_csrf.parameterName}"
                    th:value="${_csrf.token}"
                  />

                  <div class="row g-3">
                    <div class="col-md-6">
                      <label
                        for="nombre"
                        class="form-label fw-semibold text-white-75"
                        >Nombre</label
                      >
                      <div class="has-icon">
                        <input
                          type="text"
                          class="form-control form-control-lg"
                          id="nombre"
                          name="nombre"
                          placeholder="Tu nombre"
                          required
                        />
                        <span class="input-icon" aria-hidden="true">
                          <svg
                            width="20"
                            height="20"
                            viewBox="0 0 24 24"
                            fill="currentColor"
                          >
                            <path
                              d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-5 0-9 2.5-9 5.5V21h18v-1.5C21 16.5 17 14 12 14Z"
                            />
                          </svg>
                        </span>
                      </div>
                      <div class="invalid-feedback">Ingresa tu nombre.</div>
                    </div>
                    <div class="col-md-6">
                      <label
                        for="apellido"
                        class="form-label fw-semibold text-white-75"
                        >Apellido</label
                      >
                      <div class="has-icon">
                        <input
                          type="text"
                          class="form-control form-control-lg"
                          id="apellido"
                          name="apellido"
                          placeholder="Tu apellido"
                          required
                        />
                        <span class="input-icon" aria-hidden="true">
                          <svg
                            width="20"
                            height="20"
                            viewBox="0 0 24 24"
                            fill="currentColor"
                          >
                            <path
                              d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-5 0-9 2.5-9 5.5V21h18v-1.5C21 16.5 17 14 12 14Z"
                            />
                          </svg>
                        </span>
                      </div>
                      <div class="invalid-feedback">Ingresa tu apellido.</div>
                    </div>
                  </div>

                  <div class="mt-3">
                    <label
                      for="email"
                      class="form-label fw-semibold text-white-75"
                      >Correo electrónico</label
                    >
                    <div class="has-icon">
                      <input
                        type="email"
                        class="form-control form-control-lg"
                        id="email"
                        name="email"
                        placeholder="tu@email.com"
                        required
                      />
                      <span class="input-icon" aria-hidden="true">
                        <svg
                          width="20"
                          height="20"
                          viewBox="0 0 24 24"
                          fill="currentColor"
                        >
                          <path
                            d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 4-8 5-8-5V6l8 5 8-5v2Z"
                          />
                        </svg>
                      </span>
                    </div>
                    <div class="invalid-feedback">
                      Ingresa un correo válido.
                    </div>
                  </div>

                  <div class="mt-3">
                    <label
                      for="telefono"
                      class="form-label fw-semibold text-white-75"
                      >Teléfono</label
                    >
                    <div class="has-icon">
                      <input
                        type="tel"
                        class="form-control form-control-lg"
                        id="telefono"
                        name="telefono"
                        placeholder="+57 300 123 4567"
                        required
                      />
                      <span class="input-icon" aria-hidden="true">
                        <svg
                          width="20"
                          height="20"
                          viewBox="0 0 24 24"
                          fill="currentColor"
                        >
                          <path
                            d="M6.6 10.8a15.53 15.53 0 0 0 6.6 6.6l2.2-2.2c.3-.3.8-.4 1.2-.3 1 .3 2 .4 3.1.4.7 0 1.3.6 1.3 1.3V20c0 .7-.6 1.3-1.3 1.3C10.5 21.3 2.7 13.5 2.7 3.3 2.7 2.6 3.3 2 4 2h3.4c.7 0 1.3.6 1.3 1.3 0 1.1.1 2.1.4 3.1.1.4 0 .9-.3 1.2l-2.2 2.2Z"
                          />
                        </svg>
                      </span>
                    </div>
                    <div class="invalid-feedback">
                      Ingresa un teléfono válido.
                    </div>
                  </div>

                  <div class="mt-3">
                    <label
                      for="direccion"
                      class="form-label fw-semibold text-white-75"
                      >Dirección</label
                    >
                    <div class="has-icon">
                      <input
                        type="text"
                        class="form-control form-control-lg"
                        id="direccion"
                        name="direccion"
                        placeholder="Calle 123 #45-67, Bogotá"
                        required
                      />
                      <span class="input-icon" aria-hidden="true">
                        <svg
                          width="20"
                          height="20"
                          viewBox="0 0 24 24"
                          fill="currentColor"
                        >
                          <path
                            d="M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 9.5A2.5 2.5 0 1 1 14.5 9 2.5 2.5 0 0 1 12 11.5Z"
                          />
                        </svg>
                      </span>
                    </div>
                    <div class="invalid-feedback">Ingresa tu dirección.</div>
                  </div>

                  <div class="mt-3">
                    <label
                      for="password"
                      class="form-label fw-semibold text-white-75"
                      >Contraseña</label
                    >
                    <div class="position-relative has-icon">
                      <input
                        type="password"
                        class="form-control form-control-lg pe-5"
                        id="password"
                        name="password"
                        placeholder="Crea una contraseña segura"
                        required
                        minlength="8"
                      />
                      <span class="input-icon" aria-hidden="true">
                        <svg
                          width="20"
                          height="20"
                          viewBox="0 0 24 24"
                          fill="currentColor"
                        >
                          <path
                            d="M17 8h-1V6a4 4 0 0 0-8 0v2H7a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2Zm-6 0V6a2 2 0 1 1 4 0v2h-4Z"
                          />
                        </svg>
                      </span>
                      <button
                        type="button"
                        id="togglePassReg"
                        class="btn btn-link p-0 position-absolute top-50 end-0 translate-middle-y me-3 text-white-75"
                        aria-label="Mostrar u ocultar contraseña"
                      >
                        <span id="icon-eye-reg" aria-hidden="true">
                          <svg
                            width="22"
                            height="22"
                            viewBox="0 0 24 24"
                            fill="currentColor"
                          >
                            <path
                              d="M12 5c-7 0-11 7-11 7s4 7 11 7 11-7 11-7-4-7-11-7Zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10Z"
                            />
                          </svg>
                        </span>
                        <span
                          id="icon-eye-off-reg"
                          class="d-none"
                          aria-hidden="true"
                        >
                          <svg
                            width="22"
                            height="22"
                            viewBox="0 0 24 24"
                            fill="currentColor"
                          >
                            <path
                              d="M3 4.27 1.75 5.5l3.2 3.2A13.5 13.5 0 0 0 1 12s4 7 11 7c2.1 0 3.9-.5 5.5-1.28l3.48 3.48 1.27-1.27L3 4.27Zm8 13.23C7.1 17.5 4.46 15.34 3.12 14c.74-.79 1.87-1.86 3.32-2.74l2.02 2.02A4 4 0 0 0 12 16a4 4 0 0 0 1.73-.38l1.63 1.63c-1 .3-2.1.25-2.36.25Zm0-12c2.9 0 5.54 2.16 6.88 3.5-.48.52-1.13 1.13-1.95 1.74l-1.47-1.47A4 4 0 0 0 12 8a4 4 0 0 0-1.9.48L8.46 6.84c1-.3 2.1-.34 2.54-.34Z"
                            />
                          </svg>
                        </span>
                      </button>
                    </div>
                    <div class="form-text text-white-75">
                      Mínimo 8 caracteres. Ideal: mayúsculas, minúsculas y
                      números.
                    </div>
                    <div class="invalid-feedback">
                      La contraseña debe tener al menos 8 caracteres.
                    </div>
                  </div>

                  <div class="mt-3">
                    <label
                      for="password2"
                      class="form-label fw-semibold text-white-75"
                      >Confirmar contraseña</label
                    >
                    <div class="has-icon">
                      <input
                        type="password"
                        class="form-control form-control-lg"
                        id="password2"
                        name="password2"
                        placeholder="Repite la contraseña"
                        required
                        minlength="8"
                      />
                      <span class="input-icon" aria-hidden="true">
                        <svg
                          width="20"
                          height="20"
                          viewBox="0 0 24 24"
                          fill="currentColor"
                        >
                          <path
                            d="M17 8h-1V6a4 4 0 0 0-8 0v2H7a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2Zm-6 0V6a2 2 0 1 1 4 0v2h-4Zm5.2 7.2-3 3a1 1 0 0 1-1.4 0l-1.5-1.5 1.4-1.4.8.8 2.3-2.3 1.4 1.4Z"
                          />
                        </svg>
                      </span>
                    </div>
                    <div class="invalid-feedback">
                      Las contraseñas deben coincidir.
                    </div>
                  </div>

                  <div class="form-check mt-3">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="terms"
                      name="terms"
                      required
                    />
                    <label class="form-check-label text-white-75" for="terms">
                      Acepto los
                      <a href="#" class="link-primario"
                        >términos y condiciones</a
                      >
                      y las
                      <a href="#" class="link-primario"
                        >políticas de privacidad</a
                      >
                    </label>
                    <div class="invalid-feedback">
                      Debes aceptar los términos para continuar.
                    </div>
                  </div>

                  <div class="form-check mt-2">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="marketing"
                      name="marketing"
                    />
                    <label
                      class="form-check-label text-white-75"
                      for="marketing"
                      >Quiero recibir promociones y ofertas especiales por
                      correo</label
                    >
                  </div>

                  <button
                    type="submit"
                    class="btn btn-primario w-100 btn-lg btn-ripple mt-4"
                  >
                    Registrarse
                  </button>
                </form>

                <div class="text-center my-3 text-white-50">o</div>

                <p class="text-center mb-0 text-white-75">
                  ¿Ya tienes cuenta?
                  <a th:href="@{/login}" class="link-primario fw-semibold"
                    >Inicia sesión aquí</a
                  >
                </p>
              </div>

              <p class="text-center text-white-50 small mt-3">
                Al registrarte, aceptas nuestros
                <a href="#" class="link-primario">términos y condiciones</a>.
              </p>

              <div class="mt-4 card-ml p-4">
                <h3 class="h5 brand-ml text-primario mb-2">
                  Beneficios de registrarte:
                </h3>
                <ul class="mb-0 text-muted">
                  <li>✨ Promociones exclusivas para miembros</li>
                  <li>🎯 Ofertas personalizadas</li>
                  <li>📱 Reservas más fáciles y rápidas</li>
                  <li>🎁 Descuentos en tu cumpleaños</li>
                  <li>⭐ Programa de puntos y recompensas</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JS propio -->
    <script th:src="@{/js/main.js}"></script>
  </body>
</html>
