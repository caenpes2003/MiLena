<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Mi Leña – Menú</title>
    <link rel="icon" th:href="@{/assets/favicon.png}" />
    <!-- 1) Bootstrap primero -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- 2) Iconos -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />

    <!-- 3) Tu CSS al final para que sobreescriba a Bootstrap -->
    <link rel="stylesheet" th:href="@{/css/custom.css?v=1}" />
  </head>
  <body>
    <!-- Loader -->
    <div id="pageLoader" class="page-loader hidden" aria-hidden="true">
      <div class="page-loader-inner">
        <img th:src="@{/assets/Logo1.png}" alt="Mi Leña" class="loader-logo" />
        <div class="loader-text">Cargando…</div>
      </div>
    </div>
    <!-- NAVBAR -->
    <nav th:replace="~{fragments/navbar :: navbar}"></nav>

    <main class="site-main">
      <section class="py-5 bg-dark text-white bg-pattern">
        <div class="container-xl">
          <div class="menu-header text-center mb-4">
            <h2 class="menu-title mb-2" th:data-count="${#lists.size(items)}">
              MENÚ
              <small
                class="menu-count"
                th:text="${#numbers.formatInteger(#lists.size(items),0,'POINT')} + ' platos'"
              >
                0 platos
              </small>
            </h2>
            <p class="menu-subtitle">Nuestros platos estrella del asador</p>
          </div>

          <!-- toggle separado, debajo o arriba -->
          <div class="d-flex justify-content-center mb-4">
            <div class="btn-group menu-toggle" role="tablist">
              <a th:href="@{/menu}" class="btn btn-switch">Tarjetas</a>
              <a th:href="@{/menu/table}" class="btn btn-switch">Tabla</a>
            </div>
          </div>

          <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-4">
            <div class="col" th:each="c : ${items}">
              <article class="card card-menu h-100">
                <div class="ratio ratio-4x3 card-cover">
                  <img
                    th:src="${c.imagenUrl}"
                    th:alt="${c.nombre}"
                    class="object-cover w-100 h-100"
                  />
                  <span class="price-badge">
                    $<span
                      th:text="${#numbers.formatInteger(c.precio, 0, 'POINT')}"
                      >0</span
                    >
                  </span>
                </div>
                <div class="card-body d-flex flex-column">
                  <h3 class="h5 mb-1" th:text="${c.nombre}">Nombre</h3>
                  <p
                    class="text-muted small flex-grow-1"
                    th:text="${c.descripcion}"
                  >
                    Descripción…
                  </p>
                  <a
                    th:href="@{/producto/{slug}(slug=${c.slug})}"
                    class="btn btn-primario mt-2 btn-ripple"
                  >
                    Ver detalle
                  </a>
                </div>
              </article>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- FOOTER -->
    <footer th:replace="~{fragments/footer :: footer}"></footer>
    <a
      href="https://wa.me/573016113151"
      target="_blank"
      id="btnWhatsappFlotante"
      ><i class="bi bi-whatsapp"></i
    ></a>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script th:src="@{/js/main.js}"></script>
    <!-- si tienes JS propio -->
  </body>
</html>
