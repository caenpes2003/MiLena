<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Iniciar sesi√≥n ‚Äî Mi Le√±a</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Rock+Salt&family=Amatic+SC:wght@700&family=Montserrat:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" th:href="@{/css/custom.css}" />
  </head>
  <body class="auth-page">
    <div id="pageLoader" class="page-loader hidden" aria-hidden="true">
      <div class="page-loader-inner" role="status" aria-live="polite">
        <img th:src="@{/assets/Logo1.png}" alt="Mi Le√±a" class="loader-logo" />
        <div class="loader-text">Cargando‚Ä¶</div>
      </div>
    </div>

    <nav th:replace="~{fragments/navbar :: navbar}"></nav>

    <main class="auth-hero pt-5">
      <section class="py-5">
        <div class="container-xl">
          <div class="text-center mb-4">
            <h1 class="brand-section text-acento mb-2">
              ¬°Bienvenido de vuelta!
            </h1>
            <p class="text-white-75">Ingresa a tu cuenta de Mi Le√±a</p>
          </div>

          <div class="row justify-content-center">
            <div class="col-12 col-md-8 col-lg-5">
              <div class="auth-card p-4 p-md-5">
                <div class="text-center mb-3">
                  <img
                    th:src="@{/assets/NombreLog.png}"
                    alt="Mi Le√±a"
                    class="auth-logo mb-2"
                  />
                  <h2 class="h4 text-white-75 mb-0">Iniciar sesi√≥n</h2>
                </div>

                <!-- Mensajes -->
                <div
                  th:if="${success}"
                  class="alert alert-success"
                  role="alert"
                  th:text="${success}"
                ></div>
                <div
                  th:if="${loginError}"
                  class="alert alert-danger"
                  role="alert"
                  th:text="${loginError}"
                ></div>

                <!-- FORM -->
                <form th:action="@{/login}" method="post" novalidate>
                  <!-- Email -->
                  <div class="mb-3">
                    <label
                      for="email"
                      class="form-label fw-semibold text-white-75"
                      >Correo electr√≥nico</label
                    >
                    <input
                      type="email"
                      class="form-control form-control-lg"
                      id="email"
                      name="username"
                      placeholder="tu@email.com"
                      required
                    />
                    <div class="invalid-feedback">
                      Ingresa un correo v√°lido.
                    </div>
                  </div>

                  <!-- Password -->
                  <div class="mb-2 position-relative">
                    <label
                      for="password"
                      class="form-label fw-semibold text-white-75"
                      >Contrase√±a</label
                    >
                    <input
                      type="password"
                      class="form-control form-control-lg pe-5"
                      id="password"
                      name="password"
                      placeholder="Tu contrase√±a"
                      required
                    />
                    <button
                      type="button"
                      id="togglePass"
                      class="btn btn-link p-0 position-absolute top-50 end-0 translate-middle-y me-3 text-white-75"
                      aria-label="Mostrar u ocultar contrase√±a"
                    >
                      <span id="icon-eye" aria-hidden="true">üëÅÔ∏è</span>
                      <span id="icon-eye-off" class="d-none" aria-hidden="true"
                        >üôà</span
                      >
                    </button>
                    <div class="invalid-feedback">
                      La contrase√±a es obligatoria.
                    </div>
                    <small id="capsHint" class="form-hint text-warning d-none"
                      >Bloq May√∫s est√° activado</small
                    >
                  </div>

                  <!-- Recordarme + Olvid√© -->
                  <div
                    class="d-flex justify-content-between align-items-center mb-3"
                  >
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="checkbox"
                        id="remember"
                        name="remember-me"
                      />
                      <label
                        class="form-check-label text-white-75"
                        for="remember"
                        >Recu√©rdame</label
                      >
                    </div>
                    <a href="#" class="link-primario small"
                      >¬øOlvidaste tu contrase√±a?</a
                    >
                  </div>

                  <!-- Submit -->
                  <button
                    type="submit"
                    class="btn btn-primario w-100 btn-lg btn-ripple"
                  >
                    Entrar
                  </button>
                </form>

                <!-- Divider -->
                <div class="text-center my-3 text-white-50">o</div>

                <!-- Sign up -->
                <p class="text-center mb-0 text-white-75">
                  ¬øNo tienes cuenta?
                  <a th:href="@{/register}" class="link-primario fw-semibold"
                    >Reg√≠strate aqu√≠</a
                  >
                </p>
              </div>

              <!-- Info legal -->
              <p class="text-center text-white-50 small mt-3">
                Al iniciar sesi√≥n, aceptas nuestros
                <a href="#" class="link-primario">t√©rminos y condiciones</a>.
              </p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script th:src="@{/js/main.js}"></script>
  </body>
</html>
