<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Registro ‚Äî Mi Le√±a</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Rock+Salt&family=Amatic+SC:wght@700&family=Montserrat:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" th:href="@{/css/custom.css}" />
  </head>
  <body class="auth-page">
    <div id="pageLoader" class="page-loader hidden" aria-hidden="true">
      <div class="page-loader-inner" role="status" aria-live="polite">
        <img th:src="@{/assets/Logo1.png}" alt="Mi Le√±a" class="loader-logo" />
        <div class="loader-text">Cargando‚Ä¶</div>
      </div>
    </div>

    <nav th:replace="~{fragments/navbar :: navbar}"></nav>

    <main class="auth-hero pt-5">
      <section class="py-5">
        <div class="container-xl">
          <div class="text-center mb-4">
            <h1 class="brand-section text-acento mb-2">¬°Crea tu cuenta!</h1>
            <p class="text-white-75">
              √önete a Mi Le√±a para disfrutar de promociones y reservas √°giles
            </p>
          </div>

          <!-- Mensajes flash -->
          <div class="col-lg-6 col-xl-5 mx-auto">
            <div
              th:if="${registerError}"
              class="alert alert-danger"
              th:text="${registerError}"
            ></div>
            <div
              th:if="${registerOk}"
              class="alert alert-success"
              th:text="${registerOk}"
            ></div>
          </div>

          <div class="row justify-content-center">
            <div class="col-12 col-md-8 col-lg-6 col-xl-5">
              <div class="auth-card p-4 p-md-5">
                <div class="text-center mb-3">
                  <img
                    th:src="@{/assets/NombreLog.png}"
                    alt="Mi Le√±a"
                    class="auth-logo mb-2"
                  />
                </div>

                <!-- FORM -->
                <form
                  id="registerForm"
                  th:action="@{/register}"
                  method="post"
                  th:object="${cliente}"
                  novalidate
                >
                  <div class="row g-3">
                    <!-- Nombre -->
                    <div class="col-md-6">
                      <label
                        for="nombre"
                        class="form-label fw-semibold text-white-75"
                        >Nombre</label
                      >
                      <div class="has-icon">
                        <input
                          type="text"
                          class="form-control form-control-lg"
                          id="nombre"
                          th:field="*{nombre}"
                          placeholder="Tu nombre"
                          required
                          th:class="${#fields.hasErrors('nombre')} ? 'form-control form-control-lg is-invalid' : 'form-control form-control-lg'"
                        />
                        <span class="input-icon" aria-hidden="true">üë§</span>
                      </div>
                      <div
                        class="invalid-feedback"
                        th:if="${#fields.hasErrors('nombre')}"
                        th:errors="*{nombre}"
                      >
                        Error
                      </div>
                    </div>

                    <!-- Apellido -->
                    <div class="col-md-6">
                      <label
                        for="apellido"
                        class="form-label fw-semibold text-white-75"
                        >Apellido</label
                      >
                      <div class="has-icon">
                        <input
                          type="text"
                          class="form-control form-control-lg"
                          id="apellido"
                          th:field="*{apellido}"
                          placeholder="Tu apellido"
                          required
                          th:class="${#fields.hasErrors('apellido')} ? 'form-control form-control-lg is-invalid' : 'form-control form-control-lg'"
                        />
                        <span class="input-icon" aria-hidden="true">üë§</span>
                      </div>
                      <div
                        class="invalid-feedback"
                        th:if="${#fields.hasErrors('apellido')}"
                        th:errors="*{apellido}"
                      >
                        Error
                      </div>
                    </div>
                  </div>

                  <!-- Email -->
                  <div class="mt-3">
                    <label
                      for="email"
                      class="form-label fw-semibold text-white-75"
                      >Correo electr√≥nico</label
                    >
                    <div class="has-icon">
                      <input
                        type="email"
                        class="form-control form-control-lg"
                        id="email"
                        th:field="*{email}"
                        placeholder="tu@email.com"
                        required
                        th:class="${#fields.hasErrors('email')} ? 'form-control form-control-lg is-invalid' : 'form-control form-control-lg'"
                      />
                      <span class="input-icon" aria-hidden="true">üìß</span>
                    </div>
                    <div
                      class="invalid-feedback"
                      th:if="${#fields.hasErrors('email')}"
                      th:errors="*{email}"
                    >
                      Error
                    </div>
                  </div>

                  <!-- Tel√©fono -->
                  <div class="mt-3">
                    <label
                      for="telefono"
                      class="form-label fw-semibold text-white-75"
                      >Tel√©fono</label
                    >
                    <div class="has-icon">
                      <input
                        type="tel"
                        class="form-control form-control-lg"
                        id="telefono"
                        th:field="*{telefono}"
                        placeholder="+57 300 123 4567"
                        required
                        th:class="${#fields.hasErrors('telefono')} ? 'form-control form-control-lg is-invalid' : 'form-control form-control-lg'"
                      />
                      <span class="input-icon" aria-hidden="true">üìû</span>
                    </div>
                    <div
                      class="invalid-feedback"
                      th:if="${#fields.hasErrors('telefono')}"
                      th:errors="*{telefono}"
                    >
                      Error
                    </div>
                  </div>

                  <!-- Direcci√≥n -->
                  <div class="mt-3">
                    <label
                      for="direccion"
                      class="form-label fw-semibold text-white-75"
                      >Direcci√≥n</label
                    >
                    <div class="has-icon">
                      <input
                        type="text"
                        class="form-control form-control-lg"
                        id="direccion"
                        th:field="*{direccion}"
                        placeholder="Calle 123 #45-67, Bogot√°"
                        required
                        th:class="${#fields.hasErrors('direccion')} ? 'form-control form-control-lg is-invalid' : 'form-control form-control-lg'"
                      />
                      <span class="input-icon" aria-hidden="true">üìç</span>
                    </div>
                    <div
                      class="invalid-feedback"
                      th:if="${#fields.hasErrors('direccion')}"
                      th:errors="*{direccion}"
                    >
                      Error
                    </div>
                  </div>

                  <!-- Contrase√±a -->
                  <div class="mt-3">
                    <label
                      for="password"
                      class="form-label fw-semibold text-white-75"
                      >Contrase√±a</label
                    >
                    <div class="position-relative has-icon">
                      <input
                        type="password"
                        class="form-control form-control-lg pe-5"
                        id="password"
                        th:field="*{password}"
                        placeholder="Crea una contrase√±a segura"
                        required
                        minlength="8"
                        th:class="${#fields.hasErrors('password')} ? 'form-control form-control-lg is-invalid' : 'form-control form-control-lg'"
                      />
                      <span class="input-icon" aria-hidden="true">üîí</span>
                      <button
                        type="button"
                        id="togglePassReg"
                        class="btn btn-link p-0 position-absolute top-50 end-0 translate-middle-y me-3 text-white-75"
                        aria-label="Mostrar u ocultar contrase√±a"
                      >
                        <span id="icon-eye-reg" aria-hidden="true">üëÅÔ∏è</span>
                        <span
                          id="icon-eye-off-reg"
                          class="d-none"
                          aria-hidden="true"
                          >üôà</span
                        >
                      </button>
                    </div>
                    <div class="form-text text-white-75">
                      M√≠nimo 8 caracteres. Ideal: may√∫sculas, min√∫sculas y
                      n√∫meros.
                    </div>
                    <div
                      class="invalid-feedback"
                      th:if="${#fields.hasErrors('password')}"
                      th:errors="*{password}"
                    >
                      Error
                    </div>
                  </div>

                  <!-- Confirmar contrase√±a -->
                  <div class="mt-3">
                    <label
                      for="password2"
                      class="form-label fw-semibold text-white-75"
                      >Confirmar contrase√±a</label
                    >
                    <div class="has-icon">
                      <input
                        type="password"
                        class="form-control form-control-lg"
                        id="password2"
                        name="password2"
                        placeholder="Repite la contrase√±a"
                        required
                        minlength="8"
                      />
                      <span class="input-icon" aria-hidden="true">üîí</span>
                    </div>
                    <div class="invalid-feedback">
                      Las contrase√±as deben coincidir.
                    </div>
                  </div>

                  <!-- T√©rminos -->
                  <div class="form-check mt-3">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="terms"
                      name="terms"
                      required
                    />
                    <label class="form-check-label text-white-75" for="terms">
                      Acepto los
                      <a href="#" class="link-primario"
                        >t√©rminos y condiciones</a
                      >
                      y las
                      <a href="#" class="link-primario"
                        >pol√≠ticas de privacidad</a
                      >
                    </label>
                    <div class="invalid-feedback">
                      Debes aceptar los t√©rminos para continuar.
                    </div>
                  </div>

                  <!-- Marketing (opcional) -->
                  <div class="form-check mt-2">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="marketing"
                      name="marketing"
                    />
                    <label
                      class="form-check-label text-white-75"
                      for="marketing"
                    >
                      Quiero recibir promociones y ofertas especiales por correo
                    </label>
                  </div>

                  <button
                    type="submit"
                    class="btn btn-primario w-100 btn-lg btn-ripple mt-4"
                  >
                    Registrarse
                  </button>
                </form>

                <div class="text-center my-3 text-white-50">o</div>

                <p class="text-center mb-0 text-white-75">
                  ¬øYa tienes cuenta?
                  <a th:href="@{/login}" class="link-primario fw-semibold"
                    >Inicia sesi√≥n aqu√≠</a
                  >
                </p>
              </div>

              <p class="text-center text-white-50 small mt-3">
                Al registrarte, aceptas nuestros
                <a href="#" class="link-primario">t√©rminos y condiciones</a>.
              </p>

              <div class="mt-4 card-ml p-4">
                <h3 class="h5 brand-ml text-primario mb-2">
                  Beneficios de registrarte:
                </h3>
                <ul class="mb-0 text-muted">
                  <li>‚ú® Promociones exclusivas para miembros</li>
                  <li>üéØ Ofertas personalizadas</li>
                  <li>üì± Reservas m√°s f√°ciles y r√°pidas</li>
                  <li>üéÅ Descuentos en tu cumplea√±os</li>
                  <li>‚≠ê Programa de puntos y recompensas</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script th:src="@{/js/main.js}"></script>
  </body>
</html>
